server:
  port: 0

spring:
  application:
    name: fairair-backend-test
  
  # Use in-memory H2 for tests
  r2dbc:
    url: r2dbc:h2:mem:///testdb;DB_CLOSE_DELAY=-1;MODE=MySQL
    username: sa
    password: 
  
  sql:
    init:
      mode: always

fairair:
  provider: mock
  cache:
    routes-ttl: 300
    search-ttl: 60
  mock:
    min-delay: 0
    max-delay: 10
  security:
    jwt:
      secret: test-secret-key-for-testing-only-32chars
      access-token-expiry-seconds: 900
      refresh-token-expiry-seconds: 3600
    rate-limit:
      enabled: false
    cors:
      allowed-origins:
        - http://localhost:8080
        - http://localhost:8081
        - http://127.0.0.1:8080
      allowed-methods:
        - GET
        - POST
        - PUT
        - DELETE
        - OPTIONS
      max-age: 3600

management:
  endpoints:
    web:
      exposure:
        include: health

logging:
  level:
    root: WARN
    com.fairair: INFO
    org.springframework.test: WARN
